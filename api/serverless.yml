service: gitbot

provider:
    name: aws
    region: us-east-1
    runtime: provided
#    apiGateway:
#        restApiId: gitbotrest # REST API resource ID. Default is generated by the framework
#        restApiRootResourceId: gitbot # Root resource, represent as / path
#        description: Some Description # optional - description of deployment history
    environment:
#        CLIENT_ID: ${env:CLIENT_ID}
#        SECRET: ${env:SECRET}
#        APP_URL: ${env:APP_URL}
#        GITLAB_URL: ${env:GITLAB_URL}

plugins:
    - ./vendor/bref/bref

functions:
    app:
        handler: public/index.php
        description: 'Gitbot app'
        layers:
            - ${bref:layer.php-74}
        events:
            - http: 'ANY /'
            - http: 'ANY /{proxy}/*'

# Exclude files from deployment
package:
    exclude:
        - 'tests/**'
